# TODOs
- Add `if` expression function which returns the second argument if the first is true or the third if the first is false
- Allow option to support templates within static providers
- Allow declare expressions to reference other declare variables as long as there's no recursive references
- Add a `values` function in expressions which iterates over the key/value pairs in an object
- Break `run` and `try` into separate cli sub-commands. Add in different configuration options. For `try`: peakload, file output (defaults to stdout), format (could have simple, full, json--which would be intended for a viewer). For `run` stats output format (currently in config.general.summary_output_format-- remove that option). *Breaking change*.
- Create a try run viewer
- Log when a request is waiting for a provider. Waiting for Tokio Trace (https://github.com/tokio-rs/tokio/issues/561)
- Add a max_connection config option. Will require implementing a custom client and thread pool. Log number of open connections.
- Allow math in expressions
- Have the Dockerfile and sh script cross compile for windows as well (see https://stackoverflow.com/a/39184296)
- Create a Visual Studio Code language extension for the loadtest file schema
- Add cli option for results
- every minute we print stats to console, also write those results to disk, overwriting the previous file every minute
- add `files` body provider
- allow multipart uploads
- update `mod_interval` code so that multiple `scale_fn`s can be added so that it handles the transition from one fn to the next, rather than using `Stream::chain`. This is important because, currently, if a provider value is delayed for a long period of time, it will start on the next `mod_interval` even though enough time may have passed that it should skip several `mod_interval`s. Should also help in allowing `load_patterns` to be dynamically changed during test run
- add more tests - unit and integration - get code coverage
- track system health (sysinfo crate) perhaps event loop latency and determine if system is overloaded
- add in machine clustering. Machines should open up a secure connection using a PSK
- allow load_patterns/config to change while a test is running. Monitor the load test config file for changes
- Add `where` support so we can have nested selects. `where` should be key value pairs where the value is an object with `with`*, `select`, `for_each`* and `where`* pieces